import 'dart:developer';

import 'package:flutter_dotenv/flutter_dotenv.dart';
import 'package:google_generative_ai/google_generative_ai.dart';

class GeminiService {
  GeminiService();

  final String API_KEY = dotenv.env['API_KEY']!;

  Future<String?> generateContent(Content prompt) async {
    if (API_KEY == '') {
      throw Exception('API_KEY is null');
    }

    final model = GenerativeModel(
      model: 'gemini-1.5-flash',
      apiKey: API_KEY,
      generationConfig: GenerationConfig(
        temperature: 0.3,
        topK: 64,
        topP: 0.95,
        maxOutputTokens: 8192,
        responseMimeType: 'text/plain',
      ),
    );

    final response2 = await model.generateContent([prompt]); //TODO: un-prompted response

    //TODO: Change response if possible

    final response = await model.generateContent([
      Content('user', [
        TextPart(
            'Should summarize the important points of the legal document in 250 words in a simplified manner')
      ]),
      Content('model', [TextPart('')]),
      Content(
          'user', [TextPart('point out high priority clauses of document')]),
      Content('model', [TextPart('')]),
      Content('user', [TextPart('point out unclear clauses')]),
      Content('model', [TextPart('')]),
      Content('user',
          [TextPart('point out potential loopholes in the document')]),
      Content('model', [TextPart('')]),
      Content('user', [
        TextPart('Expand on the key clauses related to data collection'),
      ]),
      Content('model', [TextPart('')]),
      Content('user', [
        TextPart(
            'Identify any privacy-related concerns and potential loopholes in the document'),
      ]),
      Content('model', [TextPart('')]),
      Content('user', [
        TextPart(
            'Provide a legal analysis of compliance with GDPR regulations'),
      ]),
      Content('model', [TextPart('')]),
      Content('user', [
        TextPart(
            'We want you to understand the types of information we collect as you use our services\n\nWe collect information to provide better services to all our users — from figuring out basic stuff like which language you speak, to more complex things like which ads you’ll find most useful, the people who matter most to you online, or which YouTube videos you might like. The information Google collects, and how that information is used, depends on how you use our services and how you manage your privacy controls.\n\nWhen you’re not signed in to a Google Account, we store the information we collect with unique identifiers tied to the browser, application, or device you’re using. This allows us to do things like maintain your preferences across browsing sessions, such as your preferred language or whether to show you more relevant search results or ads based on your activity.\n\nWhen you’re signed in, we also collect information that we store with your Google Account, which we treat as personal information.\n\nThings you create or provide to us\nWhen you create a Google Account, you provide us with personal information that includes your name and a password. You can also choose to add a phone number or payment information to your account. Even if you aren’t signed in to a Google Account, you might choose to provide us with information — like an email address to communicate with Google or receive updates about our services.\n\nWe also collect the content you create, upload, or receive from others when using our services. This includes things like email you write and receive, photos and videos you save, docs and spreadsheets you create, and comments you make on YouTube videos.\n\nInformation we collect as you use our services\nYour apps, browsers & devices\nWe collect information about the apps, browsers, and devices you use to access Google services, which helps us provide features like automatic product updates and dimming your screen if your battery runs low.\n\nThe information we collect includes unique identifiers, browser type and settings, device type and settings, operating system, mobile network information including carrier name and phone number, and application version number. We also collect information about the interaction of your apps, browsers, and devices with our services, including IP address, crash reports, system activity, and the date, time, and referrer URL of your request.\n\nWe collect this information when a Google service on your device contacts our servers — for example, when you install an app from the Play Store or when a service checks for automatic updates. If you’re using an Android device with Google apps, your device periodically contacts Google servers to provide information about your device and connection to our services. This information includes things like your device type and carrier name, crash reports, which apps you\'ve installed, and, depending on your device settings, other information about how you’re using your Android device.\n\nYour activity\nWe collect information about your activity in our services, which we use to do things like recommend a YouTube video you might like. The activity information we collect may include:\n\nTerms you search for\nVideos you watch\nViews and interactions with content and ads\nVoice and audio information\nPurchase activity\nPeople with whom you communicate or share content\nActivity on third-party sites and apps that use our services\nChrome browsing history you’ve synced with your Google Account\nIf you use our services to make and receive calls or send and receive messages, we may collect call and message log information like your phone number, calling-party number, receiving-party number, forwarding numbers, sender and recipient email address, time and date of calls and messages, duration of calls, routing information, and types and volumes of calls and messages.\n\nYou can visit your Google Account to find and manage activity information that’s saved in your account.\n\n\nGo to Google Account\n\nYour location information\nWe collect location information when you use our services, which helps us offer features like driving directions, search results for things near you, and ads based on your location.\n\nDepending on the products you’re using and settings you choose, Google may use different types of location information to help make some services and products you use more helpful. These include:\n\nGPS and other sensor data from your device\nIP address\nActivity on Google services, such as from your searches or places you label like home or work\nInformation about things near your device, such as Wi-Fi access points, cell towers, and Bluetooth-enabled devices\nThe types of location data we collect and how long we store it depend in part on your device and account settings. For example, you can turn your Android device’s location on or off using the device’s settings app. You can also turn on Location History if you want to create a private map of where you go with your signed-in devices. And if your Web & App Activity setting is enabled, your searches and other activity from Google services, which may also include location information, is saved to your Google Account. Learn more about how we use location information.\n\nIn some circumstances, Google also collects information about you from publicly accessible sources. For example, if your name appears in your local newspaper, Google’s Search engine may index that article and display it to other people if they search for your name. We may also collect information about you from trusted partners, such as directory services who provide us with business information to be displayed on Google’s services, marketing partners who provide us with information about potential customers of our business services, and security partners who provide us with information to protect against abuse. We also receive information from partners to provide advertising and research services on their behalf.\n\nWe use various technologies to collect and store information, including cookies, pixel tags, local storage, such as browser web storage or application data caches, databases, and server logs.\n\nWhy Google collects data\nWe use data to build better services\n\nWe use the information we collect from all our services for the following purposes:\n\nProvide our services\nWe use your information to deliver our services, like processing the terms you search for in order to return results or helping you share content by suggesting recipients from your contacts.\n\nMaintain & improve our services\nWe also use your information to ensure our services are working as intended, such as tracking outages or troubleshooting issues that you report to us. And we use your information to make improvements to our services — for example, understanding which search terms are most frequently misspelled helps us improve spell-check features used across our services.\n\nDevelop new services\nWe use the information we collect in existing services to help us develop new ones. For example, understanding how people organized their photos in Picasa, Google’s first photos app, helped us design and launch Google Photos.\n\nProvide personalized services, including content and ads\nWe use the information we collect to customize our services for you, including providing recommendations, personalized content, and customized search results. For example, Security Checkup provides security tips adapted to how you use Google products. And, depending on your available settings, Google Play could use information like apps you’ve already installed and videos you’ve watched on YouTube to suggest new apps you might like.\n\nDepending on your settings, we may also show you personalized ads based on your interests and activity across Google services. For example, if you search for “mountain bikes,” you may see ads for sports equipment on YouTube. You can control what information we use to show you ads by visiting your ad settings in My Ad Center.\n\nWe don’t show you personalized ads based on sensitive categories, such as race, religion, sexual orientation, or health.\nWe don’t show you personalized ads based on your content from Drive, Gmail, or Photos.\nWe don’t share information that personally identifies you with advertisers, such as your name or email, unless you ask us to. For example, if you see an ad for a nearby flower shop and select the “tap to call” button, we’ll connect your call and may share your phone number with the flower shop.\n\nGo to My Ad Center\n\nMeasure performance\nWe use data for analytics and measurement to understand how our services are used. For example, we analyze data about your visits to our sites to do things like optimize product design. And we also use data about the ads you interact with, including your related Google Search activity, to help advertisers understand the performance of their ad campaigns. We use a variety of tools to do this, including Google Analytics. When you visit sites or use apps that use Google Analytics, a Google Analytics customer may choose to enable Google to link information about your activity from that site or app with activity from other sites or apps that use our ad services.\n\nCommunicate with you\nWe use information we collect, like your email address, to interact with you directly. For example, we may send you a notification if we detect suspicious activity, like an attempt to sign in to your Google Account from an unusual location. Or we may let you know about upcoming changes or improvements to our services. And if you contact Google, we’ll keep a record of your request in order to help solve any issues you might be facing.\n\nProtect Google, our users, and the public\nWe use information to help improve the safety and reliability of our services. This includes detecting, preventing, and responding to fraud, abuse, security risks, and technical issues that could harm Google, our users, or the public.\n\nWe use different technologies to process your information for these purposes. We use automated systems that analyze your content to provide you with things like customized search results, personalized ads, or other features tailored to how you use our services. And we analyze your content to help us detect abuse such as spam, malware, and illegal content. We also use algorithms to recognize patterns in data. For example, Google Translate helps people communicate across languages by detecting common language patterns in phrases you ask it to translate.\n\nWe may use the information we collect across our services and across your devices for the purposes described above. For example, depending on your available settings, if you watch videos of guitar players on YouTube, you might see an ad for guitar lessons on a site that uses our ad products. Depending on your account settings, your activity on other sites and apps may be associated with your personal information in order to improve Google’s services and the ads delivered by Google.\n\nIf other users already have your email address or other information that identifies you, we may show them your publicly visible Google Account information, such as your name and photo. This helps people identify an email coming from you, for example.\n\nWe’ll ask for your consent before using your information for a purpose that isn’t covered in this Privacy Policy.\n\nYour privacy controls\nYou have choices regarding the information we collect and how it\'s used\n\nThis section describes key controls for managing your privacy across our services. You can also visit the Privacy Checkup, which provides an opportunity to review and adjust important privacy settings. In addition to these tools, we also offer specific privacy settings in our products — you can learn more in our Product Privacy Guide.\n\n\nGo to Privacy Checkup\n\nManaging, reviewing, and updating your information\nWhen you’re signed in, you can always review and update information by visiting the services you use. For example, Photos and Drive are both designed to help you manage specific types of content you’ve saved with Google.\n\nWe also built a place for you to review and control information saved in your Google Account. Your Google Account includes:\n\nPrivacy controls\n\nActivity Controls\nDecide what types of activity you’d like saved in your account. For example, if you have YouTube History turned on, the videos you watch and the things you search for are saved in your account so you can get better recommendations and remember where you left off. And if you have Web & App Activity turned on, your searches and activity from other Google services are saved in your account so you can get more personalized experiences like faster searches and more helpful app and content recommendations. Web & App Activity also has a subsetting that lets you control whether information about your activity on other sites, apps, and devices that use Google services, such as apps you install and use on Android, is saved in your Google Account and used to improve Google services.\n\nGo to Activity Controls\n\n\nAd settings\nManage your preferences about the ads shown to you on Google and on sites and apps that partner with Google to show ads. You can modify your interests, choose whether your personal information is used to make ads more relevant to you, and turn on or off certain advertising services.\n\nGo to My Ad Center\n\n\nAbout you\nManage personal info in your Google Account and control who can see it across Google services.\n\nGo to About You\n\n\nShared endorsements\nChoose whether your name and photo appear next to your activity, like reviews and recommendations, that appear in ads.\n\nGo to Shared Endorsements\n\n\nSites and apps that use Google services\nManage information that websites and apps using Google services, like Google Analytics, may share with Google when you visit or interact with their services.\n\nGo to How Google uses information from sites or apps that use our services\n\nWays to review & update your information\n\nMy Activity\nMy Activity allows you to review and control data that’s saved to your Google Account when you’re signed in and using Google services, like searches you’ve done or your visits to Google Play. You can browse by date and by topic, and delete part or all of your activity.\n\nGo to My Activity\n\n\nGoogle Dashboard\nGoogle Dashboard allows you to manage information associated with specific products.\n\nGo to Dashboard\n\n\nYour personal information\nManage your contact information, such as your name, email, and phone number.\n\nGo to Personal Info\n\nWhen you’re signed out, you can manage information associated with your browser or device, including:\n\nSigned-out search personalization: Choose whether your search activity is used to offer you more relevant results and recommendations.\nYouTube settings: Pause and delete your YouTube Search History and your YouTube Watch History.\nAd Settings: Manage your preferences about the ads shown to you on Google and on sites and apps that partner with Google to show ads.\nExporting, removing & deleting your information\nYou can export a copy of content in your Google Account if you want to back it up or use it with a service outside of Google.\n\n\nExport your data\n\nTo delete your information, you can:\n\nDelete your content from specific Google services\nSearch for and then delete specific items from your account using My Activity\nDelete specific Google products, including your information associated with those products\nDelete your entire Google Account\n\nDelete your information\n\nInactive Account Manager allows you to give someone else access to parts of your Google Account in case you’re unexpectedly unable to use your account.\n\nAnd finally, you can also request to remove content from specific Google services based on applicable law and our policies.\n\nThere are other ways to control the information Google collects whether or not you’re signed in to a Google Account, including:\n\nBrowser settings: For example, you can configure your browser to indicate when Google has set a cookie in your browser. You can also configure your browser to block all cookies from a specific domain or all domains. But remember that our services rely on cookies to function properly, for things like remembering your language preferences.\nDevice-level settings: Your device may have controls that determine what information we collect. For example, you can modify location settings on your Android device.\nSharing your information\nWhen you share your information\nMany of our services let you share information with other people, and you have control over how you share. For example, you can share videos on YouTube publicly or you can decide to keep your videos private. Remember, when you share information publicly, your content may become accessible through search engines, including Google Search.\n\nWhen you’re signed in and interact with some Google services, like leaving comments on a YouTube video or reviewing an app in Play, your name and photo appear next to your activity. We may also display this information in ads depending on your Shared endorsements setting.\n\nWhen Google shares your information\nWe do not share your personal information with companies, organizations, or individuals outside of Google except in the following cases:\n\nWith your consent\nWe’ll share personal information outside of Google when we have your consent. For example, if you use Google Home to make a reservation through a booking service, we’ll get your permission before sharing your name or phone number with the restaurant. We also provide you with controls to review and manage third party apps and sites you have given access to data in your Google Account. We’ll ask for your explicit consent to share any sensitive personal information.\n\nWith domain administrators\nIf you’re a student or work for an organization that uses Google services, your domain administrator and resellers who manage your account will have access to your Google Account. They may be able to:\n\nAccess and retain information stored in your account, like your email\nView statistics regarding your account, like how many apps you install\nChange your account password\nSuspend or terminate your account access\nReceive your account information in order to satisfy applicable law, regulation, legal process, or enforceable governmental request\nRestrict your ability to delete or edit your information or your privacy settings\nFor external processing\nWe provide personal information to our affiliates and other trusted businesses or persons to process it for us, based on our instructions and in compliance with our Privacy Policy and any other appropriate confidentiality and security measures. For example, we use service providers to help operate our data centers, deliver our products and services, improve our internal business processes, and offer additional support to customers and users. We also use service providers to help review YouTube video content for public safety and analyze and listen to samples of saved user audio to help improve Google’s audio recognition technologies.\n\nFor legal reasons\nWe will share personal information outside of Google if we have a good-faith belief that disclosure of the information is reasonably necessary to:\n\nRespond to any applicable law, regulation,legal process, or enforceable governmental request. We share information about the number and type of requests we receive from governments in our Transparency Report.\nEnforce applicable Terms of Service, including investigation of potential violations.\nDetect, prevent, or otherwise address fraud, security, or technical issues.\nProtect against harm to the rights, property or safety of Google, our users, or the public.\nWe may share non-personally identifiable information publicly and with our partners — like publishers, advertisers, developers, or rights holders. For example, we share information publicly to show trends about the general use of our services. We also allow specific partners to collect information from your browser or device for advertising and measurement purposes using their own cookies or similar technologies.\n\nIf Google is involved in a merger, acquisition, or sale of assets, we’ll continue to ensure the confidentiality of your personal information and give affected users notice before personal information is transferred or becomes subject to a different privacy policy.\n\nKeeping your information secure\nWe build security into our services to protect your information\n\nAll Google products are built with strong security features that continuously protect your information. The insights we gain from maintaining our services help us detect and automatically block security threats from ever reaching you. And if we do detect something risky that we think you should know about, we’ll notify you and help guide you through steps to stay better protected.\n\nWe work hard to protect you and Google from unauthorized access, alteration, disclosure, or destruction of information we hold, including:\n\nWe use encryption to keep your data private while in transit\nWe offer a range of security features, like Safe Browsing, Security Checkup, and 2 Step Verification to help you protect your account\nWe review our information collection, storage, and processing practices, including physical security measures, to prevent unauthorized access to our systems\nWe restrict access to personal information to Google employees, contractors, and agents who need that information in order to process it. Anyone with this access is subject to strict contractual confidentiality obligations and may be disciplined or terminated if they fail to meet these obligations.')
      ]),
      Content('model', [TextPart('')]),
      Content('user', [TextPart("Meta builds technologies and services that enable people to connect with each other, build communities and grow businesses. These Terms govern your use of Facebook, Messenger and the other products, features, apps, services, technologies and software that we offer (the Meta Products or Products), except where we expressly state that separate terms (and not these) apply. These Products are provided to you by Meta Platforms, Inc.We don't charge you to use Facebook or the other products and services covered by these Terms, unless we state otherwise. Instead, businesses, organisations and other persons pay us to show you ads for their products and services. By using our Products, you agree that we can show you ads that we think may be relevant to you and your interests. We use your personal data to help determine which personalised ads to show you.We don't sell your personal data to advertisers, and we don't share information that directly identifies you (such as your name, email address or other contact information) with advertisers unless you give us specific permission. Instead, advertisers can tell us things such as the kind of audience that they want to see their ads, and we show those ads to people who may be interested. We provide advertisers with reports about the performance of their ads that help them understand how people are interacting with their content. See Section 2 below to learn more about how personalised advertising under these Terms works on the Meta Products.Our Privacy Policy explains how we collect and use your personal data to determine some of the ads that you see and provide all of the other services described below. You can also go to your settings pages of the relevant Meta Product at any time to review the privacy choices that you have about how we use your data.Return to top1. The services we provideOur mission is to give people the power to build community and bring the world closer together. To help advance this mission, we provide the products and services described below to you:Provide a personalised experience for you:Your experience on Facebook is unlike anyone else's: from the posts, stories, events, ads and other content that you see in Facebook News Feed or our video platform to the Facebook Pages that you follow and other features you might use, such as Facebook Marketplace and search. For example, we use data about the connections you make, the choices and settings you select, and what you share and do on and off our Products to personalise your experience.Connect you with people and organisations that you care about:We help you find and connect with people, groups, businesses, organisations and others that matter to you across the Meta Products you use. We use data to make suggestions for you and others – for example, groups to join, events to attend, Facebook Pages to follow or send a message to, shows to watch and people you may want to become friends with. Stronger ties make for better communities, and we believe that our services are most useful when people are connected to people, groups and organisations that they care about.Empower you to express yourself and communicate about what matters to you:There are many ways to express yourself on Facebook to communicate with friends, family and others about what matters to you – for example, sharing status updates, photos, videos and stories across the Meta Products (consistent with your settings), sending messages or making voice or video calls to a friend or several people, creating events or groups, or adding content to your profile, as well as showing you insights on how others engage with your content. We have also developed, and continue to explore, new ways for people to use technology, such as augmented reality and 360 video to create and share more expressive and engaging content on Meta Products.Help you discover content, products and services that may interest you:We show you personalised ads, offers and other sponsored or commercial content to help you discover content, products and services that are offered by the many businesses and organisations that use Facebook and other Meta Products. Section 2 below explains this in more detail.Promote the safety, security and integrity of our services, combat harmful conduct and keep our community of users safe:People will only build community on Meta Products if they feel safe and secure. We work hard to maintain the security (including the availability, authenticity, integrity and confidentiality) of our Products and services. We employ dedicated teams around the world, work with external service providers, partners and other relevant entities and develop advanced technical systems to detect potential misuse of our Products, harmful conduct towards others and situations where we may be able to help support or protect our community, including to respond to user reports of potentially violating content. If we learn of content or conduct such as this, we may take appropriate action based on our assessment that may include notifying you, offering help, removing content, removing or restricting access to certain features, disabling an account or contacting law enforcement. We share data across Meta Companies when we detect misuse or harmful conduct by someone using one of our Products or to help keep Meta Products, users and the community safe. For example, we share information with Meta Companies that provide financial products and services to help them promote safety, security and integrity and comply with applicable law. Meta may access, preserve, use and share any information it collects about you where it has a good faith belief that it is required or permitted by law to do so. For more information, please review our Privacy Policy.In some cases, the Oversight Board may review our decisions, subject to its terms and bylaws. Learn more here.Use and develop advanced technologies to provide safe and functional services for everyone:We use and develop advanced technologies such as artificial intelligence, machine learning systems and augmented reality so that people can use our Products safely regardless of physical ability or geographic location. For example, technology such as this helps people who have visual impairments understand what or who is in photos or videos shared on Facebook or Instagram. We also build sophisticated network and communication technology to help more people connect to the Internet in areas with limited access. And we develop automated systems to improve our ability to detect and remove abusive and dangerous activity that may harm our community and the integrity of our Products.Research ways to make our services better:We engage in research to develop, test and improve our Products. This includes analysing data that we have about our users, and understanding how people use our Products, for example by conducting surveys and testing and troubleshooting new features. Our Privacy Policy explains how we use data to support this research for the purposes of developing and improving our services.Provide consistent and seamless experiences across the Meta Company Products:Our Products help you find and connect with people, groups, businesses, organisations and others that are important to you. We design our systems so that your experience is consistent and seamless across the different Meta Company Products that you use. For example, we use data about the people you engage with on Facebook to make it easier for you to connect with them on Instagram or Messenger, and we enable you to communicate with businesses that you follow on Facebook through Messenger.Ensuring access to our services:To operate our global services and enable you to connect with people around the world, we need to transfer, store and distribute content and data to our data centres, partners, service providers, vendors and systems around the world, including outside your country of residence. The use of this global infrastructure is necessary and essential to provide our services. This infrastructure may be owned, operated or controlled by Meta Platforms, Inc., Meta Platforms Ireland Limited or its affiliates.Return to top2. How our services are fundedInstead of paying to use Facebook and the other products and services we offer, by using the Meta Products covered by these Terms, you agree that we can show you personalised ads and other commercial and sponsored content that businesses and organisations pay us to promote on and off Meta Company Products. We use your personal data, such as information about your activity and interests, to show you personalised ads and sponsored content that may be more relevant to you.Protecting people's privacy is central to how we've designed our personalised ads system. This means that we can show you relevant and useful ads without telling advertisers who you are. We don't sell your personal data. We allow advertisers to tell us things such as their business goal, and the kind of audience that they want to see their ads (for example, people between the ages of 18-35 who like cycling). We then show their ad to people who we think might be interested.We also provide advertisers with reports about the performance of their ads to help them understand how people are interacting with their content on and off Meta Products. For example, we provide general demographic and interest information to advertisers to help them better understand their audience, such as the fact that women between the ages of 25 and 34 who live in Madrid and like software engineering have seen an ad. We don't share information that directly identifies you (information such as your name or email address that by itself can be used to contact you or identifies who you are) unless you give us specific permission. Learn more about how Meta ads work here.We collect and use your personal data in order to provide the services described above for you. You can learn about how we collect and use your data in our Privacy Policy. You have controls over the types of ads and advertisers you see, and the types of information we use to determine which ads we show you. Learn more.Return to top3. Your commitments to Facebook and our communityWe provide these services to you and others to help advance our mission. In exchange, we need you to make the following commitments:1. Who can use FacebookWhen people stand behind their opinions and actions, our community is safer and more accountable. For this reason, you must:Provide for your account the same name that you use in everyday life.Provide accurate information about yourself;Only create one account (your own) and use it for personal purposes.Not share your password, give access to your Facebook account to others or transfer your account to anyone else (without our permission).We try to make Facebook broadly available to everyone, but you cannot use Facebook if:You are under 13 years old.You are a convicted sex offender.We've previously disabled your account for violations of our Terms, the Community Standards or other terms and policies that apply to your use of Facebook. If we disable your account for a violation of our Terms, the Community Standards or other terms and policies, you agree not to create another account without our permission. Receiving permission to create a new account is provided at our sole discretion, and does not mean or imply that the disciplinary action was wrong or without cause.You are prohibited from receiving our products, services or software under applicable laws.2. What you can share and do on Meta ProductsWe want people to use Meta Products to express themselves and to share content that is important to them, but not at the expense of the safety and well-being of others or the integrity of our community. You therefore agree not to engage in the conduct described below (or to facilitate or support others in doing so):You may not use our Products to do or share anything:That violates these Terms, the Community Standards, or other terms and policies that apply to your use of our Products.That is unlawful, misleading, discriminatory or fraudulent (or assists someone else in using our Products in such a way).That you do not own or have the necessary rights to share.That infringes or violates someone else's rights, including their intellectual property rights (such as by infringing another's copyright or trademark, or distributing or selling counterfeit or pirated goods), unless an exception or limitation applies under applicable law.You may not upload viruses or malicious code, use the services to send spam or do anything else that could disable, overburden, interfere with or impair the proper working, integrity, operation or appearance of our services, systems or Products.You may not access or collect data from our Products using automated means (without our prior permission) or attempt to access data that you do not have permission to access.You may not proxy, request or collect Product usernames or passwords, or misappropriate access tokens.You may not sell, license or purchase any data obtained from us or our services, except as provided in the Platform Terms.You may not misuse any reporting, flagging, dispute or appeals channel, such as by making fraudulent, duplicative or groundless reports or appeals.We can remove or restrict access to content that is in violation of these provisions. We can also suspend or disable your account for conduct that violates these provisions, as provided in Section 4.B.If we remove content that you have shared in violation of the Community Standards, we'll let you know and explain any options you have to request another review, unless you seriously or repeatedly violate these Terms or if doing so may expose us or others to legal liability; harm our community of users; compromise or interfere with the integrity or operation of any of our services, systems or Products; where we are restricted due to technical limitations; or where we are prohibited from doing so for legal reasons. For information on account suspension or termination, see Section 4.B below.To help support our community, we encourage you to report content or conduct that you believe violates your rights (including intellectual property rights) or our Terms and Policies, if this feature exists in your jurisdiction.We also can remove or restrict access to content features, services or information if we determine that doing so is reasonably necessary to avoid or mitigate misuse of our services or adverse legal or regulatory impacts to Meta.3. The permissions you give usWe need certain permissions from you to provide our services:Permission to use content that you create and share: Some content that you share or upload, such as photos or videos, may be protected by intellectual property laws.You retain ownership of the intellectual property rights (things such as copyright or trademarks) in any such content that you create and share on Facebook and other Meta Company Products that you use. Nothing in these Terms takes away the rights you have to your own content. You are free to share your content with anyone else, wherever you want.However, to provide our services, we need you to give us some legal permissions (known as a \"Licence\") to use this content. This is solely for the purposes of providing and improving our Products and services as described in Section 1 above.Specifically, when you share, post or upload content that is covered by intellectual property rights on or in connection with our Products, you grant us a non-exclusive, transferable, sub-licensable, royalty-free and worldwide licence to host, use, distribute, modify, run, copy, publicly perform or display, translate and create derivative works of your content (consistent with your privacy and application settings). This means, for example, that if you share a photo on Facebook, you give us permission to store, copy and share it with others (again, consistent with your settings) such as Meta Products or service providers that support those products and services. This licence will end when your content is deleted from our systems.You can delete individual content that you share, post and upload at any time. In addition, all content posted to your personal account will be deleted if you delete your account. Learn more about how to delete your account. Account deletion does not automatically delete content that you post as an admin of a Page or content that you create collectively with other users, such as photos in Shared Albums that may continue to be visible to other album members.It may take up to 90 days to delete content after we've begun the account deletion process or receives a content deletion request. If you send content to the bin, the deletion process will automatically begin in 30 days unless you choose to delete the content sooner. While the deletion process for such content is being undertaken, the content is no longer visible to other users. After the content has been deleted, it may take us up to another 90 days to remove it from backups and disaster recovery systems.Content will not be deleted within 90 days of the account deletion or content deletion process beginning in the following situations:where your content has been used by others in accordance with this licence and they have not deleted it (in which case this licence will continue to apply until that content has been deleted);where deletion within 90 days is not possible due to technical limitations of our systems, in which case, we will complete the deletion as soon as technically feasible; orWhere immediate deletion would restrict our ability to:investigate or identify illegal activity or breaches of our Terms and Policies (for example, to identify or investigate misuse of our Products or systems);protect the safety, integrity and security of our Products, systems, services, our employees and users, and to defend ourselves;comply with legal obligations for the preservation of evidence, including data that Meta Companies providing financial products and services preserve to comply with any record-keeping obligations required by law; orcomply with a request of a judicial or administrative authority, law enforcement or a government agency;in which case, the content will be retained for no longer than is necessary for the purposes for which it has been retained (the exact duration will vary on a case-by-case basis).In each of the above cases, this licence will continue until the content has been fully deleted.Permission to use your name, profile picture and information about your actions with ads and sponsored or commercial content: You give us permission to use your name and profile picture and information about actions that you have taken on Facebook next to or in connection with ads, offers and other sponsored or commercial content that we display across our Products, without any compensation to you. For example, we may show your friends that you are interested in an advertised event or have liked a Facebook Page created by a brand that has paid us to display its ads on Facebook. Ads and content such as this can only be seen by people who have your permission to see the actions that you've taken on Meta Products. You can learn more about your ad settings and preferences.Permission to update software that you use or download: If you download or use our software, you give us permission to download and install updates to the software where available.4. Limits on using our intellectual propertyIf you use content covered by intellectual property rights that we have and make available in our Products (for example, images, designs, videos or sounds that we provide, which you add to content that you create or share on Facebook), we retain all rights to that content (but not yours). You can only use our copyrights or trademarks (or any similar marks) as expressly permitted by our Brand Usage Guidelines or with our prior written permission. You must obtain our written permission (or permission under an open-source licence) to modify, translate, create derivative works of, decompile or reverse-engineer our products or their components, or otherwise attempt to extract source code from us, unless an exception or limitation applies under applicable law or your conduct relates to the Meta Bug Bounty Programme.Return to top4. Additional provisions1. Updating our TermsWe work constantly to improve our services and develop new features to make our Products better for you and our community. As a result, we may need to update these Terms from time to time to accurately reflect our services and practices, to promote a safe and secure experience on our Products and services, and/or to comply with applicable law. We will only make any changes if the provisions are no longer appropriate or if they are incomplete, and only if the changes are reasonable and take due account of your interests, or if the changes are required for safety and security purposes or to comply with applicable law.We will notify you (for example, by email or through our Products) at least 30 days before we make changes to these Terms and give you an opportunity to review them before they go into effect, unless changes are required by law. Once any updated Terms are in effect, you will be bound by them if you continue to use our Products.We hope that you will continue using our Products, but if you do not agree to our updated Terms and no longer want to be a part of the Meta community, you can delete your account at any time.2. Account suspension or terminationWe want Facebook to be a place where people feel welcome and safe to express themselves and share their thoughts and ideas.If we determine, in our discretion, that you have clearly, seriously or repeatedly breached our Terms or Policies, including, in particular, the Community Standards, we may suspend or permanently disable your access to Meta Company Products, and we may permanently disable or delete your account. We may also disable or delete your account if you repeatedly infringe other people's intellectual property rights or where we are required to do so for legal reasons.We may disable or delete your account if, after registration, your account is not confirmed, your account is unused and remains inactive for an extended period of time or if we detect that someone may have used it without your permission and we are unable to confirm your ownership of the account. Learn more about how we disable and delete accountsWhere we take such action, we'll let you know and explain any options you have to request a review, unless doing so may expose us or others to legal liability; harm our community of users; compromise or interfere with the integrity or operation of any of our services, systems or Products; where we are restricted due to technical limitations; or where we are prohibited from doing so for legal reasons.You can learn more about what you can do if your account has been disabled and how to contact us if you think that we have disabled your account by mistake.If you delete or we disable or delete your account, these Terms shall terminate as an agreement between you and us, but the following provisions will remain in place: 3, 4.2-4.5.3. Limits on liabilityWe work hard to provide the best Products we can and to specify clear guidelines for everyone who uses them. Our Products, however, are provided \"As is,\" and to the extent permissible by law, we make no guarantees that they always will be safe, secure, or error-free, or that they will function without disruptions, delays, or imperfections. To the extent permitted by law, we also disclaim all warranties, whether express or implied, including the implied warranties of merchantability, fitness for a particular purpose, title and non-infringement. We do not control or direct what people and others do or say, and we are not responsible for their actions or conduct (whether online or offline) or any content that they share (including offensive, inappropriate, obscene, unlawful and other objectionable content).We cannot predict when issues may arise with our Products. Accordingly, our liability shall be limited to the fullest extent permitted by applicable law. To the fullest extent permitted by applicable law, under no circumstance will we be liable to you for any lost profits, revenues, information, or data, or consequential, special, indirect, exemplary, punitive or incidental damages arising out of or related to these Terms or the Meta Products (however caused and on any theory of liability, including negligence), even if we have been advised of the possibility of such damages.4. DisputesWe try to provide clear rules so that we can limit or hopefully avoid disputes between you and us. If a dispute does arise, however, it's useful to know upfront where it can be resolved and what laws will apply.If you are a consumer, the laws of the country in which you reside will apply to any claim, cause of action or dispute that you have against us that arises out of or relates to these Terms or the Meta Products, and you may resolve your claim in any competent court in that country that has jurisdiction over the claim. In all other cases, and for any claim, cause of action or dispute that Meta files against you, you and Meta agree that any such claim, cause of action or dispute must be resolved exclusively in the US District Court for the Northern District of California or a state court located in San Mateo County. You also agree that you submit to the personal jurisdiction of either of these courts for the purpose of litigating any such claim, and that the laws of the State of California will govern these Terms and any claim, cause of action or dispute without regard to conflict of law provisions. Without prejudice to the foregoing, you agree that, in its sole discretion, Meta may bring any claim, cause of action or dispute we have against you in any competent court in the country in which you reside that has jurisdiction over the claim.5. OtherThese Terms (formerly known as the Statement of Rights and Responsibilities) make up the entire agreement between you and Meta Platforms, Inc. regarding your use of our Products. They supersede any prior agreements.Some of the Products that we offer are also governed by supplemental Terms. If you use any of those Products, supplemental terms will be made available and will become part of our agreement with you. For instance, if you access or use our Products for commercial or business purposes, such as buying ads, selling products, developing apps, managing a group or Page for your business, or using our measurement services, you must agree to our Commercial Terms. If you post or share content containing music, you must comply with our Music Guidelines. To the extent that any supplemental Terms conflict with these Terms, the supplemental Terms shall govern to the extent of the conflict.If any portion of these Terms is found to be unenforceable, the unenforceable portion will be deemed amended to the minimum extent necessary to make it enforceable, and if it can't be made enforceable, then it will be severed and the remaining portion will remain in full force and effect. If we fail to enforce any of these Terms, it will not be considered a waiver. Any amendment to or waiver of these Terms must be made in writing and signed by us.You will not transfer any of your rights or obligations under these Terms to anyone else without our consent.You may designate a person (Called a legacy contact) to manage your account if it is memorialised. If you enable it in your settings, only your legacy contact or a person who you have identified in a valid will or similar legal document expressing clear consent to disclose your content to that person upon death or incapacity will be able to seek limited disclosure of information from your account after it has been memorialised.These Terms do not confer any third-party beneficiary rights. All of our rights and obligations under these Terms are freely assignable by us in connection with a merger, acquisition or sale of assets, or by operation of law or otherwise.We may change the username for your account in certain circumstances (for example, if someone else claims the username and it appears unrelated to the name you use in everyday life).We always appreciate your feedback and other suggestions about our products and services. But we may use feedback and other suggestions without any restriction or obligation to compensate you, and we are under no obligation to keep them confidential.We reserve all rights not expressly granted to you.Return to top5. Other terms and policies that may apply to youCommunity Standards: These guidelines outline our standards regarding the content that you post to Facebook and your activity on Facebook and other Meta Products.Commercial Terms: These terms apply if you also access or use our Products for any commercial or business purpose, including advertising, operating an app on our Platform, using our measurement services, managing a group or a Page for a business, or selling goods or services.Community Payment Terms: These terms apply to payments made on or through Meta Products.Commerce Policies: These guidelines outline the policies that apply when you offer products or services for sale on Facebook, Instagram and WhatsApp.Music guidelines: These guidelines outline the policies that apply if you post or share content containing music on any Meta Products.Advertising Policies: These policies apply to partners who advertise across the Meta Products and specify what types of ad content are allowed by partners who advertise across the Meta Products.Self-serve Ad Terms: These terms apply when you use self-serve advertising interfaces to create, submit or deliver advertising or other commercial or sponsored activity or content.Facebook Pages, Groups and Events Policy: These guidelines apply if you create or administer a Facebook Page, group or event, or if you use Facebook to communicate or administer a promotion.Meta Platform Policy: These terms apply to the use of the set of APIs, SDKs, tools, plugins, code, technology, content and services that enables others to develop functionality, retrieve data from MetaProducts or provide data to us.Developer Payment Terms: These terms apply to developers of applications that use Facebook Payments.Meta brand resources: These guidelines outline the policies that apply to use of Meta trademarks, logos and screenshots.Recommendations guidelines: The Facebook recommendations guidelines and Instagram recommendations guidelines outline our standards for recommending and not recommending content.Live policies: These policies apply to all content broadcast to Facebook Live.")]),
      Content('model', [TextPart('')]),
    ]);

    log(response2.text!);
    return response2.text;
  }
}
